
# ПРАКТИКА

## Практика-1

1. Напишите функцию, выдающую случайное время,равномерно распределенное в указанном отрезке. Начало отрезка задается временной отметкой (timestamptz),конец — либо временной отметкой, либо интервалом (interval).

2. В таблице хранятся номера автомобилей, введенные кое-как: встречаются как латинские, так и русские буквы в любом регистре; между буквами и цифрами могут быть пробелы.Считая, что формат номера «буква три-цифры две-буквы», напишите функцию, выдающую число уникальных номеров.Например, «К 123 ХМ» и «k123xm» считаются равными.

3. Напишите функцию, находящую корни квадратного уравнения.


## Практика-2


1. Напишите функцию, переводящую строку, содержащую число в шестнадцатеричной системе, в обычное целое число.

2. Добавьте в функцию второй необязательный параметр — основание системы счисления (по умолчанию — 16).

3. Табличная функция generate_series не работает со строковыми типами. Предложите свою функцию для генерации последовательностей строк из заглавных английских букв.



## Практика-3

1. Напишите PL/pgSQL-функцию, которая возвращает строку заданной длины из случайных символов.

2. Задача про игру в «наперстки».

* В одном из трех наперстков спрятан выигрыш.

* Игрок выбирает один из этих трех. 

* Ведущий убирает один из двух оставшихся наперстков (обязательно пустой) и дает игроку возможность поменять решение, то есть выбрать второй из двух оставшихся.Есть ли смысл игроку менять выбор или нет смысла менять первоначальный вариант?

Задание: используя PL/pgSQL, посчитайте вероятность выигрыша и для начального выбора, и для измененного.

## Практика-4

1. Напишите функцию add_author для добавления новых авторов. Функция должна принимать три параметра (фамилия, имя, отчество) и возвращать идентификатор нового автора. 

Проверьте, что приложение позволяет добавлять авторов.

2. Напишите функцию buy_book для покупки книги. Функция принимает идентификатор книги и уменьшает количество таких книг на складе на единицу. Возвращаемое значение отсутствует. 

Проверьте, что в «Магазине» появилась возможность покупки книг.